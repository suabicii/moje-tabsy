{% extends 'base.html.twig' %}

{% block title %}Zmiana hasła{% endblock %}
{% block body %}
    <body>
    <main>
        <section class="sign-in position-relative">
            <div class="sign-in__overlay position-absolute top-50 start-50 translate-middle text-center bg-white p-4 rounded">
                <h1>Ustaw nowe hasło do swojego konta</h1>
                <div class="d-grid">
                    <a href="{{ path('login_page') }}">Zaloguj się</a>
                    <a href="{{ path('homepage') }}" class="mt-2">Powrót do strony głównej</a>
                </div>
                {% set token_from_current_url = app.request.attributes.get('_route_params')['token'] %}
                <form action="{{ path('change_password_submit', {'token': token_from_current_url}) }}" name="change_password_form"
                      class="mt-3" method="post">
                    <div class="form-floating mb-3">
                        <input type="password" class="form-control" id="password" placeholder="Nowe hasło"
                               name="password" required>
                        <label for="password">Nowe hasło</label>
                    </div>
                    <div class="form-floating">
                        <input type="password" class="form-control" id="passwordRepeat" placeholder="Powtórz hasło"
                               name="password_repeat" required>
                        <label for="passwordRepeat">Powtórz hasło</label>
                    </div>
                    {% if error %}
                        <div class="alert alert-danger mt-2 mb-1" role="alert">
                            <div>
                                <p class="lead text-white"><i class="fa-solid fa-circle-exclamation"></i> Błędy:</p>
                                <p class="text-white">{{ error }}</p>
                            </div>
                        </div>
                    {% endif %}
                    <div class="d-grid mt-2">
                        <button id="submit" type="submit" class="btn btn-primary mt-2">
                            Zmień hasło <i class="fa-solid fa-paper-plane"></i></button>
                    </div>
                </form>
            </div>
        </section>
    </main>
    {% block javascripts %}
        {{ parent() }}
    {% endblock %}
    </body>
{% endblock %}


